{"openapi":"3.0.0","paths":{"/user/library":{"post":{"operationId":"library","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ReadingHistory"}}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLibraryOutput"}}}}},"tags":["👤 user"],"security":[{"bearer":[]}]}},"/user/sync-history":{"post":{"operationId":"syncHistory","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ReadingHistory"}}}}},"responses":{"201":{"description":""}},"tags":["👤 user"],"security":[{"bearer":[]}]}},"/user/statistics":{"post":{"operationId":"statistics","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ReadingHistory"}}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserStatistics"}}}}},"tags":["👤 user"],"security":[{"bearer":[]}]}},"/user/adjust-goal":{"patch":{"operationId":"adjustGoal","parameters":[{"name":"goal","required":true,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["👤 user"],"security":[{"bearer":[]}]}},"/user/start-reading/{id}":{"patch":{"operationId":"startReading","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["👤 user"],"security":[{"bearer":[]}]}},"/user/finish-reading/{id}":{"patch":{"operationId":"finishReading","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["👤 user"],"security":[{"bearer":[]}]}},"/user/remove-from-library/{id}":{"patch":{"operationId":"removeFromLibrary","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["👤 user"],"security":[{"bearer":[]}]}},"/user/toggle-save/{id}":{"patch":{"operationId":"toggleSave","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"boolean"}}}}},"tags":["👤 user"],"security":[{"bearer":[]}]}},"/user/is-saved/{id}":{"get":{"operationId":"isSaved","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"boolean"}}}}},"tags":["👤 user"],"security":[{"bearer":[]}]}},"/user/admin/catalog":{"get":{"operationId":"catalog","parameters":[{"name":"searchTerm","required":true,"in":"query","schema":{"type":"string"}},{"name":"cursor","required":true,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCatalogOutput"}}}}},"tags":["👤 user"],"security":[{"bearer":[]}]}},"/user/admin/remove/{id}":{"delete":{"operationId":"remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["👤 user"],"security":[{"bearer":[]}]}},"/catalog/search/{query}":{"get":{"operationId":"search","parameters":[{"name":"query","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ShortBook"}}}}}},"tags":["📚 catalog"],"security":[{"bearer":[]}]}},"/catalog/featured":{"get":{"operationId":"featured","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FeaturedOutput"}}}}},"tags":["📚 catalog"],"security":[{"bearer":[]}]}},"/catalog/picks-of-the-week":{"get":{"operationId":"picksOfTheWeek","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ShortBook"}}}}}},"tags":["📚 catalog"],"security":[{"bearer":[]}]}},"/genre":{"get":{"operationId":"catalog","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ShortGenre"}}}}}},"tags":["🔖 genre"],"security":[{"bearer":[]}]}},"/genre/by-id/{id}":{"get":{"operationId":"byId","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FindOneGenreOutput"}}}}},"tags":["🔖 genre"],"security":[{"bearer":[]}]}},"/book/info/by-id/{id}":{"get":{"operationId":"infoById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InfoById"}}}}},"tags":["📙 book"],"security":[{"bearer":[]}]}},"/book/admin-info/by-id/{id}":{"get":{"operationId":"adminInfoById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FullBook"}}}}},"tags":["📙 book"],"security":[{"bearer":[]}]}},"/book/admin/catalog":{"get":{"operationId":"catalog","parameters":[{"name":"searchTerm","required":true,"in":"query","schema":{"type":"string"}},{"name":"page","required":true,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookCatalogOutput"}}}}},"tags":["📙 book"],"security":[{"bearer":[]}]}},"/book/admin/create":{"post":{"operationId":"create","parameters":[],"requestBody":{"required":true,"description":"Create book","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateBookDto"}}}},"responses":{"200":{"description":""}},"tags":["📙 book"],"security":[{"bearer":[]}]}},"/book/admin/update/{id}":{"put":{"operationId":"update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateBookDto"}}}},"responses":{"200":{"description":""}},"tags":["📙 book"],"security":[{"bearer":[]}]}},"/book/admin/remove/{id}":{"post":{"operationId":"review","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateImpressionDto"}}}},"responses":{"200":{"description":""}},"tags":["📙 book"],"security":[{"bearer":[]}]},"delete":{"operationId":"remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["📙 book"],"security":[{"bearer":[]}]}},"/auth/google-sign":{"post":{"operationId":"googleSign","parameters":[],"requestBody":{"required":true,"description":"Sign in with google account","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GoogleAuthDto"}}}},"responses":{"200":{"description":"Return access and refresh token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthOutput"}}}}},"tags":["🔐 auth"]}},"/auth/mail-register":{"post":{"operationId":"mailRegister","parameters":[],"requestBody":{"required":true,"description":"Register new user","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthDto"}}}},"responses":{"200":{"description":"Return access and refresh token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthOutput"}}}}},"tags":["🔐 auth"]}},"/auth/mail-login":{"post":{"operationId":"mailLogin","parameters":[],"requestBody":{"required":true,"description":"Login user","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthDto"}}}},"responses":{"200":{"description":"Return access and refresh token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthOutput"}}}}},"tags":["🔐 auth"]}},"/auth/refresh":{"post":{"operationId":"refreshToken","parameters":[],"requestBody":{"required":true,"description":"Refresh access token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshDto"}}}},"responses":{"200":{"description":"Return access token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthOutput"}}}}},"tags":["🔐 auth"]}},"/storage/{folder}":{"post":{"operationId":"upload","parameters":[{"name":"folder","required":true,"in":"path","schema":{"enum":["authorsPictures","booksCovers"],"type":"string"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"file":{"type":"string","format":"binary"}}}}}},"responses":{"200":{"description":"File uploaded","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UploadOutputDto"}}}}},"tags":["storage"],"security":[{"bearer":[]}]}},"/recommendation/update-recommendation":{"post":{"operationId":"updateRecommendation","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateRecommendationDto"}}}},"responses":{"200":{"description":"Recommendation updated"}},"tags":["📨 recommendation"],"security":[{"bearer":[]}]}},"/recommendation/recommendation-genre":{"get":{"operationId":"currentRecommendation","parameters":[],"responses":{"200":{"description":"Recommendation genres","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ShortGenre"}}}}}},"tags":["📨 recommendation"],"security":[{"bearer":[]}]}},"/health":{"get":{"operationId":"check","parameters":[],"responses":{"200":{"description":"Health check","content":{"application/json":{"schema":{"type":"object"}}}},"503":{"description":"The Health Check is not successful","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"error"},"info":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"error":{"type":"object","example":{"redis":{"status":"down","message":"Could not connect"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"details":{"type":"object","example":{"database":{"status":"up"},"redis":{"status":"down","message":"Could not connect"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true}}}}}}}},"tags":["❤️ health"]}},"/ebook/ebook/by-id/{id}":{"get":{"operationId":"ebookById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EbookOutput"}}}}},"tags":["📙 ebook"]}},"/ebook/admin-ebook/by-id/{id}":{"get":{"operationId":"adminEbookById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Chapter"}}}}}},"tags":["📙 ebook"]}},"/ebook/update-chapter/by-id/{id}":{"put":{"operationId":"updateChapter","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateChapterDto"}}}},"responses":{"200":{"description":""}},"tags":["📙 ebook"]}},"/ebook/admin/unfold":{"post":{"operationId":"unfold","parameters":[],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"file":{"type":"string","format":"binary"}}}}}},"responses":{"200":{"description":"Unfolded book content","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnfoldOutput"}}}}},"tags":["📙 ebook"]}},"/reaction/create":{"post":{"operationId":"create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateReaction"}}}},"responses":{"201":{"description":""}},"tags":["👍 Reaction"],"security":[{"bearer":[]}]}},"/reaction/reaction-list":{"get":{"operationId":"reactionList","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ReactionListOutput"}}}}}},"tags":["👍 Reaction"],"security":[{"bearer":[]}]}},"/reaction/reaction-by-bookId/{bookId}":{"get":{"operationId":"reactionByBook","parameters":[{"name":"bookId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ReactionByBookOutput"}}}}}},"tags":["👍 Reaction"],"security":[{"bearer":[]}]}},"/reaction/update":{"post":{"operationId":"update","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateReaction"}}}},"responses":{"201":{"description":""}},"tags":["👍 Reaction"],"security":[{"bearer":[]}]}},"/reaction/delete/{id}":{"put":{"operationId":"remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["👍 Reaction"],"security":[{"bearer":[]}]}},"/reading/gpt-explain":{"post":{"operationId":"gptExplain","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GptExplain"}}}},"responses":{"201":{"description":""}}}},"/reading/translate":{"post":{"operationId":"translate","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TranslateText"}}}},"responses":{"201":{"description":""}}}},"/author/by-id/{id}":{"get":{"operationId":"byId","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthorDto"}}}}},"tags":["👨‍🏫 author"],"security":[{"bearer":[]}]}},"/author/admin/create":{"post":{"operationId":"create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAuthorDto"}}}},"responses":{"201":{"description":""}},"tags":["👨‍🏫 author"],"security":[{"bearer":[]}]}},"/author/admin/update":{"post":{"operationId":"update","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ShortAuthorDto"}}}},"responses":{"201":{"description":""}},"tags":["👨‍🏫 author"],"security":[{"bearer":[]}]}},"/author/admin/remove/{id}":{"delete":{"operationId":"remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["👨‍🏫 author"],"security":[{"bearer":[]}]}},"/author/admin/catalog":{"get":{"operationId":"catalog","parameters":[{"name":"searchTerm","required":true,"in":"query","schema":{"type":"string"}},{"name":"page","required":true,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthorCatalogOutput"}}}}},"tags":["👨‍🏫 author"],"security":[{"bearer":[]}]}}},"info":{"title":"bestLib","description":"","version":"1.0","contact":{"name":"bestLib","url":"https://github.com/kravchenko-anton/booknex-2-monorepo","email":"Github repository"}},"tags":[{"name":"👤 user","description":"user service"},{"name":"🔐 auth","description":"auth service"},{"name":"📙 book","description":"book service"},{"name":"📚 catalog","description":"catalog service"},{"name":"❤️ health","description":"health service"},{"name":"🔖 genre","description":"genre service"},{"name":"📁 storage","description":"storage service"},{"name":"⭐ impression","description":"impression service"},{"name":"📨 recommendation","description":"recommendation service"},{"name":"📦 parser","description":"parser service"}],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"ReadingHistory":{"type":"object","properties":{"startDate":{"type":"string","format":"date-time"},"endDate":{"type":"string","format":"date-time"},"startProgress":{"type":"number"},"endProgress":{"type":"number"},"progressDelta":{"type":"number"},"readingTimeMs":{"type":"number"},"scrollPosition":{"type":"number"},"bookId":{"type":"string"}},"required":["startDate","endDate","startProgress","endProgress","progressDelta","readingTimeMs","scrollPosition","bookId"]},"UserLibraryOutput":{"type":"object","properties":{"readingBooks":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","required":true},"title":{"type":"string","required":true},"picture":{"type":"string","required":true},"author":{"type":"object","properties":{"id":{"type":"string","required":true},"name":{"type":"string","required":true}},"required":true},"rating":{"type":"number","required":true},"readingHistory":{"type":"object","properties":{"progress":{"type":"number","required":true},"scrollPosition":{"type":"number","required":true}},"required":true,"nullable":true}},"required":["id","title","picture","author","rating","readingHistory"]}},"finishedBooks":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","required":true},"title":{"type":"string","required":true},"picture":{"type":"string","required":true},"author":{"type":"object","properties":{"id":{"type":"string","required":true},"name":{"type":"string","required":true}},"required":true},"rating":{"type":"number","required":true}},"required":["id","title","picture","author","rating"]}},"savedBooks":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","required":true},"title":{"type":"string","required":true},"picture":{"type":"string","required":true},"author":{"type":"object","properties":{"id":{"type":"string","required":true},"name":{"type":"string","required":true}},"required":true},"rating":{"type":"number","required":true}},"required":["id","title","picture","author","rating"]}}},"required":["readingBooks","finishedBooks","savedBooks"]},"UserStatistics":{"type":"object","properties":{"progressByCurrentWeek":{"type":"array","items":{"type":"object","properties":{"day":{"type":"string","required":true},"isCurrentDay":{"type":"boolean","required":true},"readingTimeMs":{"type":"number","required":true},"dayProgress":{"type":"number","required":true}},"required":["day","isCurrentDay","readingTimeMs","dayProgress"]}},"pepTalk":{"type":"string"},"goalMinutes":{"type":"number"},"userSteak":{"type":"number"}},"required":["progressByCurrentWeek","pepTalk","goalMinutes","userSteak"]},"UserCatalogOutput":{"type":"object","properties":{"data":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","required":true},"email":{"type":"string","format":"email","required":true},"selectedGenres":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","required":true},"name":{"type":"string","required":true},"icon":{"type":"string","required":true},"emoji":{"type":"string","required":true}},"required":["id","name","icon","emoji"]},"required":true},"statistics":{"type":"array","items":{"type":"object","properties":{"endDate":{"type":"string","format":"date-time","required":true},"progressDelta":{"type":"number","required":true},"readingTimeMs":{"type":"number","required":true}},"required":["endDate","progressDelta","readingTimeMs"]},"required":true},"_count":{"type":"object","properties":{"savedBooks":{"type":"number","required":true},"finishedBooks":{"type":"number","required":true},"readingBooks":{"type":"number","required":true}},"required":true,"additionalProperties":false},"createdAt":{"type":"string","format":"date-time","required":true},"socialId":{"type":"string","required":false,"nullable":true},"picture":{"type":"string","required":true},"fullName":{"type":"string","required":true},"location":{"type":"string","required":true}},"required":["id","email","selectedGenres","statistics","_count","createdAt","picture","fullName","location"]}},"canLoadMore":{"type":"boolean"},"totalPages":{"type":"number"}},"required":["data","canLoadMore","totalPages"]},"ShortBook":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string"},"picture":{"type":"string"},"author":{"type":"object","properties":{"id":{"type":"string","required":true},"name":{"type":"string","required":true}}},"rating":{"type":"number"}},"required":["id","title","picture","author","rating"]},"FeaturedOutput":{"type":"object","properties":{"picksOfWeek":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","required":true},"title":{"type":"string","required":true},"picture":{"type":"string","required":true},"author":{"type":"object","properties":{"id":{"type":"string","required":true},"name":{"type":"string","required":true}},"required":true},"rating":{"type":"number","required":true}},"required":["id","title","picture","author","rating"]}},"genres":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","required":true},"name":{"type":"string","required":true},"icon":{"type":"string","required":true},"emoji":{"type":"string","required":true}},"required":["id","name","icon","emoji"]}},"bestSellingBooks":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","required":true},"title":{"type":"string","required":true},"picture":{"type":"string","required":true},"author":{"type":"object","properties":{"id":{"type":"string","required":true},"name":{"type":"string","required":true}},"required":true},"rating":{"type":"number","required":true}},"required":["id","title","picture","author","rating"]}},"newReleases":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","required":true},"title":{"type":"string","required":true},"picture":{"type":"string","required":true},"author":{"type":"object","properties":{"id":{"type":"string","required":true},"name":{"type":"string","required":true}},"required":true},"rating":{"type":"number","required":true}},"required":["id","title","picture","author","rating"]}},"booksBySelectedGenres":{"type":"array","items":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","required":true},"title":{"type":"string","required":true},"picture":{"type":"string","required":true},"author":{"type":"object","properties":{"id":{"type":"string","required":true},"name":{"type":"string","required":true}},"required":true},"rating":{"type":"number","required":true}},"required":["id","title","picture","author","rating"]}}}},"required":["picksOfWeek","genres","bestSellingBooks","newReleases","booksBySelectedGenres"]},"ShortGenre":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"icon":{"type":"string"},"emoji":{"type":"string"}},"required":["id","name","icon","emoji"]},"FindOneGenreOutput":{"type":"object","properties":{"books":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","required":true},"title":{"type":"string","required":true},"picture":{"type":"string","required":true},"author":{"type":"object","properties":{"id":{"type":"string","required":true},"name":{"type":"string","required":true}},"required":true},"rating":{"type":"number","required":true}},"required":["id","title","picture","author","rating"]}},"id":{"type":"string"},"name":{"type":"string"},"icon":{"type":"string"},"emoji":{"type":"string"}},"required":["books","id","name","icon","emoji"]},"InfoById":{"type":"object","properties":{"summary":{"type":"string"},"concept":{"type":"string"},"description":{"type":"string"},"rating":{"type":"number"},"isPublic":{"type":"boolean"},"genres":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","required":true},"name":{"type":"string","required":true},"icon":{"type":"string","required":true},"emoji":{"type":"string","required":true}},"required":["id","name","icon","emoji"]}},"id":{"type":"string"},"title":{"type":"string"},"picture":{"type":"string"},"author":{"type":"object","properties":{"id":{"type":"string","required":true},"name":{"type":"string","required":true}}},"readingTime":{"type":"string"},"fromSameAuthor":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","required":true},"title":{"type":"string","required":true},"picture":{"type":"string","required":true},"author":{"type":"object","properties":{"id":{"type":"string","required":true},"name":{"type":"string","required":true}},"required":true},"rating":{"type":"number","required":true}},"required":["id","title","picture","author","rating"]}}},"required":["summary","concept","description","rating","isPublic","genres","id","title","picture","author","readingTime","fromSameAuthor"]},"FullBook":{"type":"object","properties":{"summary":{"type":"string"},"concept":{"type":"string"},"description":{"type":"string"},"rating":{"type":"number"},"isPublic":{"type":"boolean"},"genres":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","required":true},"name":{"type":"string","required":true},"icon":{"type":"string","required":true},"emoji":{"type":"string","required":true}},"required":["id","name","icon","emoji"]}},"id":{"type":"string"},"title":{"type":"string"},"picture":{"type":"string"},"author":{"type":"object","properties":{"id":{"type":"string","required":true},"name":{"type":"string","required":true}}},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"authorId":{"type":"string"},"isRecommendable":{"type":"boolean"},"_count":{"type":"object","properties":{"finishedBy":{"type":"number","required":true},"readingBy":{"type":"number","required":true},"savedBy":{"type":"number","required":true}},"additionalProperties":false},"statistics":{"type":"array","items":{"type":"object","properties":{"endDate":{"type":"string","format":"date-time","required":true},"progressDelta":{"type":"number","required":true},"readingTimeMs":{"type":"number","required":true}},"required":["endDate","progressDelta","readingTimeMs"]}}},"required":["summary","concept","description","rating","isPublic","genres","id","title","picture","author","createdAt","updatedAt","authorId","isRecommendable","_count","statistics"]},"BookCatalogOutput":{"type":"object","properties":{"data":{"type":"array","items":{"type":"object","properties":{"summary":{"type":"string","required":true},"concept":{"type":"string","required":true},"description":{"type":"string","required":true},"rating":{"type":"number","required":true},"isPublic":{"type":"boolean","required":true},"genres":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","required":true},"name":{"type":"string","required":true},"icon":{"type":"string","required":true},"emoji":{"type":"string","required":true}},"required":["id","name","icon","emoji"]},"required":true},"id":{"type":"string","required":true},"title":{"type":"string","required":true},"picture":{"type":"string","required":true},"author":{"type":"object","properties":{"id":{"type":"string","required":true},"name":{"type":"string","required":true}},"required":true}},"required":["summary","concept","description","rating","isPublic","genres","id","title","picture","author"]}},"canLoadMore":{"type":"boolean"},"totalPages":{"type":"number"}},"required":["data","canLoadMore","totalPages"]},"CreateBookDto":{"type":"object","properties":{"title":{"type":"string"},"age":{"type":"string","enum":["all","kids","teens","adults"]},"authorId":{"type":"string"},"summary":{"type":"string","minLength":10},"concept":{"type":"string","minLength":10},"description":{"type":"string","minLength":10},"rating":{"type":"number","minimum":0,"exclusiveMinimum":true,"maximum":5},"chapters":{"type":"array","items":{"type":"object","properties":{"title":{"type":"string","required":true},"content":{"type":"string","required":true},"position":{"type":"number","required":true},"wordCount":{"type":"number","exclusiveMinimum":true,"minimum":0,"required":true},"symbolCount":{"type":"number","exclusiveMinimum":true,"minimum":0,"required":true}},"required":["title","content","position","wordCount","symbolCount"]},"minItems":1},"picture":{"type":"string"},"genres":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","required":true},"name":{"type":"string","required":true},"icon":{"type":"string","required":true},"emoji":{"type":"string","required":true}},"required":["id","name","icon","emoji"]},"minItems":1}},"required":["title","age","authorId","summary","concept","description","rating","chapters","picture","genres"]},"UpdateBookDto":{"type":"object","properties":{"title":{"type":"string"},"authorId":{"type":"string"},"description":{"type":"string","minLength":10},"summary":{"type":"string"},"concept":{"type":"string"},"isPublic":{"type":"boolean"},"isRecommendable":{"type":"boolean"},"rating":{"type":"number","minimum":0,"exclusiveMinimum":true},"picture":{"type":"string"},"genres":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","required":true},"name":{"type":"string","required":true},"icon":{"type":"string","required":true},"emoji":{"type":"string","required":true}},"required":["id","name","icon","emoji"]},"minItems":1}}},"CreateImpressionDto":{"type":"object","properties":{"text":{"type":"string","minLength":10,"maxLength":5000},"rating":{"type":"number","minimum":1,"maximum":5},"bookId":{"type":"string"},"tags":{"type":"array","items":{"type":"string"}}},"required":["text","rating","bookId","tags"]},"GoogleAuthDto":{"type":"object","properties":{"socialId":{"type":"string"}},"required":["socialId"]},"AuthOutput":{"type":"object","properties":{"accessToken":{"type":"string"},"refreshToken":{"type":"string"},"type":{"type":"string"},"user":{"type":"object","properties":{"email":{"type":"string","format":"email","required":true},"role":{"type":"string","enum":["user","admin"],"required":true}}}},"required":["accessToken","refreshToken","user"]},"AuthDto":{"type":"object","properties":{"email":{"type":"string","format":"email"},"password":{"type":"string","minLength":8}},"required":["email","password"]},"RefreshDto":{"type":"object","properties":{"refreshToken":{"type":"string"}},"required":["refreshToken"]},"UploadOutputDto":{"type":"object","properties":{"name":{"type":"string"}},"required":["name"]},"UpdateRecommendationDto":{"type":"object","properties":{"genreSlugs":{"type":"array","items":{"type":"string"},"minItems":1}},"required":["genreSlugs"]},"EbookOutput":{"type":"object","properties":{"file":{"type":"string"},"chapters":{"type":"array","items":{"type":"object","properties":{"title":{"type":"string","required":true},"link":{"type":"string","required":true}},"required":["title","link"]}},"title":{"type":"string"},"picture":{"type":"string"}},"required":["file","chapters","title","picture"]},"Chapter":{"type":"object","properties":{"title":{"type":"string"},"content":{"type":"string"},"position":{"type":"number"},"id":{"type":"string"},"wordCount":{"type":"number","exclusiveMinimum":true,"minimum":0},"symbolCount":{"type":"number","exclusiveMinimum":true,"minimum":0}},"required":["title","content","position","id","wordCount","symbolCount"]},"UpdateChapterDto":{"type":"object","properties":{"title":{"type":"string"},"content":{"type":"string"},"position":{"type":"number"},"wordCount":{"type":"number","exclusiveMinimum":true,"minimum":0},"symbolCount":{"type":"number","exclusiveMinimum":true,"minimum":0}}},"UnfoldOutput":{"type":"object","properties":{"chapters":{"type":"array","items":{"type":"object","properties":{"title":{"type":"string","required":true},"content":{"type":"string","required":true},"id":{"type":"string","required":true}},"required":["title","content","id"]}}},"required":["chapters"]},"CreateReaction":{"type":"object","properties":{"bookId":{"type":"string"},"type":{"type":"string"},"description":{"type":"string"},"text":{"type":"string"},"xpath":{"type":"string"},"startOffset":{"type":"number"},"endOffset":{"type":"number"}},"required":["bookId","type","text","xpath","startOffset","endOffset"]},"ReactionListOutput":{"type":"object","properties":{"count":{"type":"number"},"picture":{"type":"string"},"id":{"type":"string"},"title":{"type":"string"},"author":{"type":"string"}},"required":["count","picture","id","title","author"]},"ReactionByBookOutput":{"type":"object","properties":{"id":{"type":"string"},"type":{"type":"string"},"text":{"type":"string"},"xpath":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"startOffset":{"type":"number"},"endOffset":{"type":"number"}},"required":["id","type","text","xpath","createdAt","startOffset","endOffset"]},"UpdateReaction":{"type":"object","properties":{"id":{"type":"string"},"type":{"type":"string"},"description":{"type":"string"},"text":{"type":"string"},"xpath":{"type":"string"},"startOffset":{"type":"number"},"endOffset":{"type":"number"}}},"GptExplain":{"type":"object","properties":{"selectedText":{"type":"string"},"context":{"type":"string"},"bookTitle":{"type":"string"}},"required":["selectedText","context","bookTitle"]},"TranslateText":{"type":"object","properties":{"targetLang":{"type":"string"},"text":{"type":"string"},"context":{"type":"string"}},"required":["targetLang","text","context"]},"AuthorDto":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"picture":{"type":"string"},"books":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","required":true},"title":{"type":"string","required":true},"picture":{"type":"string","required":true},"rating":{"type":"number","required":true}},"required":["id","title","picture","rating"]}}},"required":["id","name","description","picture","books"]},"CreateAuthorDto":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"},"photo":{"type":"string"}},"required":["name","description","photo"]},"ShortAuthorDto":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"picture":{"type":"string"}},"required":["id","name","description","picture"]},"AuthorCatalogOutput":{"type":"object","properties":{"data":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","required":true},"name":{"type":"string","required":true},"description":{"type":"string","required":true},"picture":{"type":"string","required":true},"books":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","required":true},"title":{"type":"string","required":true},"picture":{"type":"string","required":true},"rating":{"type":"number","required":true}},"required":["id","title","picture","rating"]},"required":true}},"required":["id","name","description","picture","books"]}},"canLoadMore":{"type":"boolean"},"totalPages":{"type":"number"}},"required":["data","canLoadMore","totalPages"]}}}}